{% if ok.is_some() || err.is_some() -%}
final class {{name}}Union extends ffi.Union {

  {%- if let Some((anno, ty)) = ok %}
  {{ anno }}
  external {{ ty }} ok;
  {%- endif %}
  {%- if let Some((anno, ty)) = err %}
  {{ anno }}
  external {{ ty }} err;
  {%- endif %}
}

{% endif -%}

final class {{name}} extends ffi.Struct {
  {% if ok.is_some() || err.is_some() -%}
  external {{name}}Union union;
  {%- endif %}

  @ffi.Bool()
  external bool isOk;
}
