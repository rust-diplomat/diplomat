---
source: core/src/ast/modules.rs
expression: "Module::from(&syn::parse2(quote! {\n                              mod ffi\n                              {\n                                  struct NonOpaqueStruct\n                                  { a : i32, b : Box < NonOpaqueStruct > }\n                                  impl NonOpaqueStruct\n                                  {\n                                      fn new(x : i32) -> NonOpaqueStruct\n                                      { unimplemented ! () ; } fn\n                                      set_a(& mut self, new_a : i32)\n                                      { self . a = new_a ; }\n                                  } #[diplomat :: opaque] struct OpaqueStruct\n                                  { a : SomeExternalType } impl OpaqueStruct\n                                  {\n                                      fn new() -> Box < OpaqueStruct >\n                                      { unimplemented ! () ; } fn\n                                      get_string(& self) -> String\n                                      { unimplemented ! () }\n                                  }\n                              }\n                          }).unwrap())"

---
declared_types:
  NonOpaqueStruct:
    Struct:
      name: NonOpaqueStruct
      doc_lines: ""
      fields:
        - - a
          - Primitive: i32
          - ""
        - - b
          - Box:
              Named: NonOpaqueStruct
          - ""
      methods:
        - name: new
          doc_lines: ""
          full_path_name: NonOpaqueStruct_new
          self_param: ~
          params:
            - name: x
              ty:
                Primitive: i32
          return_type:
            Named: NonOpaqueStruct
        - name: set_a
          doc_lines: ""
          full_path_name: NonOpaqueStruct_set_a
          self_param:
            name: self
            ty:
              Reference:
                - Named: NonOpaqueStruct
                - true
          params:
            - name: new_a
              ty:
                Primitive: i32
          return_type: ~
  OpaqueStruct:
    Opaque:
      name: OpaqueStruct
      doc_lines: ""
      methods:
        - name: new
          doc_lines: ""
          full_path_name: OpaqueStruct_new
          self_param: ~
          params: []
          return_type:
            Box:
              Named: OpaqueStruct
        - name: get_string
          doc_lines: ""
          full_path_name: OpaqueStruct_get_string
          self_param:
            name: self
            ty:
              Reference:
                - Named: OpaqueStruct
                - false
          params: []
          return_type:
            Named: String

